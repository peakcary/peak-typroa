# 业务常量和配置文档

## 文档概述

本文档详细说明项目中的业务常量定义、环境配置、以及各种业务规则的常量化管理，为开发者提供完整的配置参考手册。

## 1. 环境配置管理

### 1.1 环境变量配置

```typescript
// constants/index.ts
export const isProduction = process.env.NODE_ENV === 'production';

// 请求地址前缀配置
export const BASE_URL = !isProduction ? 'http://dev.zizai.work' : 'https://zizai.work';
// 备用本地开发配置（已注释）
// export const BASE_URL = !isProduction ? 'http://192.168.31.154:8058' : 'https://zizai.work';
```

**配置特点：**
- 开发环境和生产环境URL自动切换
- 支持本地IP调试配置
- 简洁的环境判断逻辑

### 1.2 Vite代理配置

```typescript
// vite.config.ts
export default async () => {
  return defineConfig({
    server: {
      proxy: {
        '/api': {
          target: 'http://dev.zizai.work/',
          changeOrigin: true,
        }
      }
    },
    base: process.env.NODE_ENV === 'production' ? '/static-m/' : '/',
  })
}
```

**代理特点：**
- 开发环境API代理配置
- 生产环境静态资源路径配置
- 跨域问题解决方案

## 2. 应用类型配置

### 2.1 应用形态控制

```typescript
// 是否是招聘小程序
export const IS_HIRE = false;
```

**用途说明：**
- 控制应用业务形态
- 支持求职者端/招聘者端切换
- 条件编译和功能开关

### 2.2 页面标题管理

```typescript
// 自动生成的页面标题映射
export { default as PAGE_TITLE_MAP } from './page-titles-auto'
```

**管理机制：**
- 自动化页面标题生成
- 统一的标题配置管理
- 支持国际化扩展

## 3. 人力资源业务常量

### 3.1 学历体系配置

#### 学历类型定义
```typescript
export const EDUCATION_SCHOOL_TYPE = {
  1: "大学专科",
  2: '大学本科/学士学位',
  3: '硕士研究生/硕士学位',
  4: '博士研究生/博士学位'
}
```

#### 学历要求映射
```typescript
export const EDUCATION_MAP = {
  0: '不限',
  1: '大专以上',
  2: '本科以上',
  3: '硕士以上',
  4: '博士',
};
```

#### 学历选项列表
```typescript
export const EDUCATION_LIST = [
  { label: '无要求', value: 0 },
  { label: '大专以上', value: 1 },
  { label: '本科以上', value: 2 },
  { label: '硕士以上', value: 3 },
  { label: '博士', value: 4 },
];
```

**设计原则：**
- 三层数据结构：类型定义、映射关系、选项列表
- 数值化编码便于数据库存储和比较
- 人性化标签便于UI显示

### 3.2 工作经验配置

```typescript
// 经验要求列表
export const EXPERIENCE_LIST = [
  { label: '无要求', value: 0 },
  { label: '1 年以内', value: 1 },
  { label: '1~3 年', value: 2 },
  { label: '3~5 年', value: 3 },
  { label: '5~10 年', value: 4 },
  { label: '10 年以上', value: 5 },
];

// 经验映射表
export const EXPERIENCE_MAP = {
  0: '不限',
  1: '1 年以内',
  2: '1~3 年',
  3: '3~5 年',
  4: '5~10 年',
  5: '10 年以上',
};
```

**经验分级策略：**
- 0-1年：入门级/新手
- 1-3年：初级经验
- 3-5年：中级经验
- 5-10年：高级经验
- 10年以上：资深专家

### 3.3 工作类型配置

```typescript
// 工作类型定义
export const WORK_TYPE = {
  0: '不限',
  1: '全职/兼职均可',
  2: '全职',
  3: '兼职',
};

// 按优先级排序的工作类型列表
export const WORK_TYPE_LIST = [0,2,3,1].map(key => ({
  value: key,
  label: WORK_TYPE[key as 2]
}))
```

**排序逻辑：**
1. 不限（0）- 最大包容性
2. 全职（2）- 主流选择
3. 兼职（3）- 灵活选择
4. 全职/兼职均可（1）- 特殊需求

## 4. 技术能力评估体系

### 4.1 完整的L1-L10级别定义

项目实现了完整的10级技术能力评估体系：

```typescript
export const ZAIER_LEVEL_LIST = [
  {
    label: 'L1 / 实习研发工程师',
    value: 1,
    role: '一般适用于在校大学生或应届毕业生。',
    ability: '具备基础的编程知识和技术理解，能够在导师指导下参与简单功能的研发工作，理解并遵循开发流程和规范，进行简单的代码编写和测试。',
  },
  {
    label: 'L2 / 助理研发工程师',
    value: 2,
    role: '一般适用于工作 1 年左右的研发工程师。',
    ability: '在导师的指导下，能够独立完成简单的功能开发，进行基本的单元测试和调试，理解产品需求和设计，开始参与代码审查和团队协作。',
  },
  // ... L3-L9 省略详细定义
  {
    label: 'L10 / 首席架构师',
    value: 10,
    role: '一般适用于工作 15 ~ 30+ 年的首席架构师，可担任大型公司技术负责人。',
    ability: '在行业内具有极高的技术影响力和声望，能够洞察行业技术趋势和发展方向，为公司制定长期的技术战略和愿景，引领技术创新和变革，确保公司在技术领域的领先地位，同时负责跨业务线的技术协调和管理，为公司的整体技术发展和战略规划提供决策支持。',
  }
];
```

### 4.2 级别体系特征分析

#### 初级阶段（L1-L3）
- **L1**: 学生/应届生，基础编程能力
- **L2**: 1年经验，简单功能开发
- **L3**: 1-3年经验，中等复杂度开发

#### 中级阶段（L4-L6）
- **L4**: 2-6年经验，技术专业化
- **L5**: 4-10年经验，模块技术负责人
- **L6**: 6-12年经验，多模块技术负责人

#### 高级阶段（L7-L10）
- **L7**: 8-15年经验，系统架构师
- **L8**: 10-20年经验，多系统架构师
- **L9**: 12-25年经验，业务线技术负责人
- **L10**: 15-30年经验，首席架构师

## 5. 企业规模配置

### 5.1 公司规模分类

```typescript
// 公司规模映射
export const HEADCOUNT_MAP = {
  1: '1-20 人',      // 创业公司
  2: '21-99 人',     // 小型公司
  3: '100-499 人',   // 中小型公司
  4: '500-999 人',   // 中型公司
  5: '1000-9999 人', // 大型公司
  6: '10000 人以上', // 超大型公司
};
```

### 5.2 规模选项配置

```typescript
export const HEADCOUNT_OPTIONS = [
  { name: '不限', value: 0 },
  { name: '1-20 人', value: 1 },
  { name: '21-99 人', value: 2 },
  { name: '100-499 人', value: 3 },
  { name: '500-999 人', value: 4 },
  { name: '1000-9999 人', value: 5 },
  { name: '10000 人以上', value: 6 },
];
```

**分类依据：**
- 参考国际通用企业规模分类标准
- 考虑中国企业发展特点
- 便于求职者选择和企业定位

## 6. 求职意向配置

### 6.1 求职紧急程度

```typescript
export const URGENT_LIST = [{
  label: '正常匹配',
  value: 0
}, {
  label: '加急匹配',
  value: 1
}]
```

### 6.2 到岗时间配置

```typescript
export const ENTRY_TIME_LIST = [{
  label: '暂不确定',
  value: 0,
}, {
  label: '一周内',
  value: 1,
}, {
  label: '1 个月内',
  value: 2,
}, {
  label: '3 个月内',
  value: 3
}, {
  label: '半年内',
  value: 4
}]
```

**时间梯度设计：**
- 即时可用：一周内
- 短期规划：1个月内
- 中期规划：3个月内
- 长期规划：半年内
- 灵活选择：暂不确定

### 6.3 基础信息配置

```typescript
// 性别选项
export const GENDER = [{
  value: 1,
  text: '男'
}, {
  value: 2,
  text: '女'
}]
```

## 7. 工具函数和辅助配置

### 7.1 时间处理常量

```javascript
// common/util.js
var dateUtils = {
  UNITS: {
    '年': 31557600000,    // 365.25 * 24 * 60 * 60 * 1000
    '月': 2629800000,     // 30.44 * 24 * 60 * 60 * 1000
    '天': 86400000,       // 24 * 60 * 60 * 1000
    '小时': 3600000,      // 60 * 60 * 1000
    '分钟': 60000,        // 60 * 1000
    '秒': 1000
  }
};
```

**时间单位换算：**
- 精确的毫秒级时间单位定义
- 支持人性化时间显示
- 考虑闰年的年份计算

### 7.2 格式化工具常量

```javascript
function formatTime(time) {
  if (typeof time !== 'number' || time < 0) {
    return time
  }
  // 时分秒格式化逻辑
}

function formatLocation(longitude, latitude) {
  // 经纬度格式化处理
  longitude = longitude.toFixed(2)
  latitude = latitude.toFixed(2)
  
  return {
    longitude: longitude.toString().split('.'),
    latitude: latitude.toString().split('.')
  }
}
```

## 8. 配置管理最佳实践

### 8.1 常量命名规范

**命名模式：**
- `BUSINESS_TYPE`: 业务类型常量（全大写）
- `BUSINESS_MAP`: 键值映射表
- `BUSINESS_LIST`: 选项列表数组
- `BUSINESS_OPTIONS`: 完整选项对象数组

**示例对比：**
```typescript
// 好的命名
export const EDUCATION_MAP = { ... };
export const EDUCATION_LIST = [ ... ];

// 避免的命名
export const educationData = { ... };
export const eduList = [ ... ];
```

### 8.2 数据结构设计

**三层架构设计：**
1. **基础映射层**：`TYPE_MAP` - 核心数据映射
2. **选项列表层**：`TYPE_LIST` - UI选择组件数据
3. **扩展配置层**：`TYPE_OPTIONS` - 包含额外属性的完整配置

### 8.3 版本兼容性

**兼容性策略：**
- 新增选项向后兼容
- 废弃选项保留但标注
- 数值编码保持稳定
- 提供迁移指导

### 8.4 国际化支持

**i18n预留：**
```typescript
// 当前版本
export const EDUCATION_MAP = {
  0: '不限',
  1: '大专以上',
};

// 国际化扩展预留
export const EDUCATION_MAP_EN = {
  0: 'No Requirement',
  1: 'College or Above',
};
```

## 9. 环境配置扩展

### 9.1 多环境支持

```typescript
// 扩展环境配置
const ENV_CONFIG = {
  development: {
    API_BASE: 'http://dev.zizai.work',
    DEBUG: true,
    LOG_LEVEL: 'debug'
  },
  testing: {
    API_BASE: 'http://test.zizai.work',
    DEBUG: true,
    LOG_LEVEL: 'info'
  },
  production: {
    API_BASE: 'https://zizai.work',
    DEBUG: false,
    LOG_LEVEL: 'error'
  }
};
```

### 9.2 功能开关配置

```typescript
// 功能开关常量
export const FEATURE_FLAGS = {
  ENABLE_AI_ASSESSMENT: true,
  ENABLE_VIDEO_INTERVIEW: false,
  ENABLE_SALARY_NEGOTIATION: true,
  ENABLE_COMPANY_REVIEW: false
};
```

## 10. 配置维护指南

### 10.1 添加新常量

1. **确定常量类型**：映射表、列表、选项
2. **遵循命名规范**：使用标准前缀和后缀
3. **添加类型定义**：提供TypeScript类型
4. **更新文档**：记录常量用途和示例

### 10.2 修改现有常量

1. **评估影响范围**：检查引用位置
2. **保持向后兼容**：避免破坏性变更
3. **提供迁移路径**：废弃旧值时的替代方案
4. **测试完整性**：确保所有场景正常工作

### 10.3 性能优化

**优化策略：**
- 常量对象冻结：`Object.freeze()`
- 按需导入：避免全量引入
- 缓存计算结果：避免重复计算
- 延迟加载：大型配置按需加载

---

*本文档提供了项目中所有业务常量和配置的完整参考。建议开发者在添加新的业务规则时，优先考虑常量化管理，保持配置的一致性和可维护性。*